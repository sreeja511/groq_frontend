{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sreej\\\\Desktop\\\\metis\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport ReactMarkdown from \"react-markdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [typingMessage, setTypingMessage] = useState(\"\");\n  const messagesEndRef = useRef(null);\n  const sendMessage = async () => {\n    if (input.trim() === \"\") return;\n    const userMessage = {\n      from: \"user\",\n      text: input\n    };\n    setMessages(prevMessages => [...prevMessages, userMessage]);\n    setInput(\"\"); // Clear input immediately\n\n    try {\n      // Send the request to the backend\n      const response = await axios.post(\"http://localhost:5000/generate\", {\n        prompt: input,\n        // Send prompt in JSON format\n        model: \"llama-3.3-70b-versatile\" // Optionally, pass a model\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\" // Ensure content type is JSON\n        },\n        timeout: 5000 // Set timeout to 5 seconds\n      });\n      const fullText = response.data.response;\n      setTypingMessage(\"\");\n      let index = 0;\n      const interval = setInterval(() => {\n        if (index < fullText.length) {\n          setTypingMessage(prev => prev + fullText[index]);\n          index++;\n          scrollToBottom();\n        } else {\n          clearInterval(interval);\n          setMessages(prevMessages => [...prevMessages, {\n            from: \"tutor\",\n            text: fullText\n          }]);\n          setTypingMessage(\"\");\n          scrollToBottom();\n        }\n      }, 30);\n    } catch (error) {\n      console.error(\"Error with API:\", error);\n      setMessages(prevMessages => [...prevMessages, {\n        from: \"tutor\",\n        text: \"Sorry, there was an error generating the response. Please try again.\"\n      }]);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column justify-content-between vh-100 p-3 bg-info\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-light rounded-3 shadow-sm text-center p-3 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My AI Bot with GROQ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow-1 bg-light rounded-3 p-3 mb-4 shadow-sm overflow-auto\",\n      style: {\n        maxHeight: \"500px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column\",\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `d-flex ${msg.from === \"user\" ? \"justify-content-end\" : \"justify-content-start\"}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 mb-2 rounded-3 shadow-sm w-auto ${msg.from === \"user\" ? \"bg-primary text-white\" : \"bg-success text-white\"}`,\n            children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)), typingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 mb-2 rounded-3 bg-light text-muted shadow-sm w-auto\",\n            children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: typingMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        className: \"form-control me-2\",\n        placeholder: \"Type a message...\",\n        onKeyDown: e => e.key === \"Enter\" && sendMessage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        className: \"btn btn-primary\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"FVRKRVL0qyIFrMhIVEnBMhTY5tw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","axios","ReactMarkdown","jsxDEV","_jsxDEV","App","_s","messages","setMessages","input","setInput","typingMessage","setTypingMessage","messagesEndRef","sendMessage","trim","userMessage","from","text","prevMessages","response","post","prompt","model","headers","timeout","fullText","data","index","interval","setInterval","length","prev","scrollToBottom","clearInterval","error","console","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","maxHeight","map","msg","ref","type","value","onChange","e","target","placeholder","onKeyDown","key","onClick","_c","$RefreshReg$"],"sources":["C:/Users/sreej/Desktop/metis/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport ReactMarkdown from \"react-markdown\";\n\nconst App = () => {\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState(\"\");\n    const [typingMessage, setTypingMessage] = useState(\"\");\n    const messagesEndRef = useRef(null);\n\n    const sendMessage = async () => {\n        if (input.trim() === \"\") return;\n\n        const userMessage = { from: \"user\", text: input };\n        setMessages((prevMessages) => [...prevMessages, userMessage]);\n        setInput(\"\"); // Clear input immediately\n\n        try {\n            // Send the request to the backend\n            const response = await axios.post(\"http://localhost:5000/generate\", {\n                prompt: input,   // Send prompt in JSON format\n                model: \"llama-3.3-70b-versatile\"    // Optionally, pass a model\n            }, {\n                headers: {\n                    \"Content-Type\": \"application/json\" // Ensure content type is JSON\n                }, \n                timeout: 5000 // Set timeout to 5 seconds\n            });\n\n            const fullText = response.data.response;\n            setTypingMessage(\"\");\n\n            let index = 0;\n            const interval = setInterval(() => {\n                if (index < fullText.length) {\n                    setTypingMessage((prev) => prev + fullText[index]);\n                    index++;\n                    scrollToBottom();\n                } else {\n                    clearInterval(interval);\n                    setMessages((prevMessages) => [...prevMessages, { from: \"tutor\", text: fullText }]);\n                    setTypingMessage(\"\");\n                    scrollToBottom();\n                }\n            }, 30);\n\n        } catch (error) {\n            console.error(\"Error with API:\", error);\n            setMessages((prevMessages) => [\n                ...prevMessages,\n                { from: \"tutor\", text: \"Sorry, there was an error generating the response. Please try again.\" }\n            ]);\n        }\n    };\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    };\n\n    return (\n        <div className=\"d-flex flex-column justify-content-between vh-100 p-3 bg-info\">\n            <div className=\"bg-light rounded-3 shadow-sm text-center p-3 mb-4\">\n                <h2>My AI Bot with GROQ</h2>\n            </div>\n\n            <div className=\"flex-grow-1 bg-light rounded-3 p-3 mb-4 shadow-sm overflow-auto\" style={{ maxHeight: \"500px\" }}>\n                <div className=\"d-flex flex-column\">\n                    {messages.map((msg, index) => (\n                        <div key={index} className={`d-flex ${msg.from === \"user\" ? \"justify-content-end\" : \"justify-content-start\"}`}>\n                            <div className={`p-3 mb-2 rounded-3 shadow-sm w-auto ${msg.from === \"user\" ? \"bg-primary text-white\" : \"bg-success text-white\"}`}>\n                                <ReactMarkdown>{msg.text}</ReactMarkdown>\n                            </div>\n                        </div>\n                    ))}\n\n                    {typingMessage && (\n                        <div className=\"d-flex justify-content-start\">\n                            <div className=\"p-3 mb-2 rounded-3 bg-light text-muted shadow-sm w-auto\">\n                                <ReactMarkdown>{typingMessage}</ReactMarkdown>\n                            </div>\n                        </div>\n                    )}\n\n                    <div ref={messagesEndRef}></div>\n                </div>\n            </div>\n\n            <div className=\"d-flex\">\n                <input\n                    type=\"text\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    className=\"form-control me-2\"\n                    placeholder=\"Type a message...\"\n                    onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\n                />\n                <button\n                    onClick={sendMessage}\n                    className=\"btn btn-primary\">\n                    Send\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}